{{template "wage/header"}}

<form id="mathform" action="#" method="get">
<div class="jumbotron" style="color: white;background-color: #4991f9;border-radius: unset">
    <div class="container">
        <h1 class="display-4">2021个税新规计算法
            <button type="button" class="btn btn-light" style="float: right;" disabled>非国家官方站点</button>
        </h1>

        <p class="lead">计算方法按照国家税务局《个人所得税扣缴申报管理办法》计算</p>

        <div class="row justify-content-md-center">
            <div class="input-group mb-3 col-8" >
                <input type="text" id="moneyAll" class="form-control form-control-lg" placeholder="税前月薪人民币……" aria-label="税前月薪人民币……" aria-describedby="button-addon2" value="{{if .Formdata.Money}}{{.Formdata.Money}}{{end}}">
                <div class="input-group-append">
                    <button class="btn  btn-primary" type="button" id="mathButton" style="border:solid 1px white;"> 计 算 </button>
                </div>
            </div>
        </div>

        <div class="row justify-content-md-center">
            <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="customCheck" name="is_config" value="1">
                <label class="form-check-label" for="customCheck">自定义配置参数</label>
            </div>
        </div>

        <div id="customForm" class="container" style="padding: 1rem 4rem 1rem 1rem;background-color: white;color: black;display: none">
            <div id="custorm_config" class="steps-container" style="margin: 30px auto auto; display: block;">
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label">养老基数: </label>
                                <div class="col-sm-8">
                                    <input id="yanglao_base" class="form-control" type="text" name="yanglao_base" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">个人: </label>
                                <div class="col-sm-8">
                                    <select id="p_yanglao_rate" class="form-control config-select" name="p_yanglao_rate" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="1">1%</option>
                                        <option value="2">2%</option>
                                        <option value="3">3%</option>
                                        <option value="4">4%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="7">7%</option>
                                        <option value="8" selected="">8%</option>
                                        <option value="9">9%</option>
                                        <option value="10">10%</option>
                                        <option value="11">11%</option>
                                        <option value="12">12%</option>
                                        <option value="13">13%</option>
                                        <option value="14">14%</option>
                                        <option value="15">15%</option>
                                        <option value="16">16%</option>
                                        <option value="17">17%</option>
                                        <option value="18">18%</option>
                                        <option value="19">19%</option>
                                        <option value="20">20%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">企业: </label>
                                <div class="col-sm-8">
                                    <select id="c_yanglao_rate" class="form-control config-select" name="c_yanglao_rate" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="1">1%</option>
                                        <option value="2">2%</option>
                                        <option value="3">3%</option>
                                        <option value="4">4%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="7">7%</option>
                                        <option value="8">8%</option>
                                        <option value="9">9%</option>
                                        <option value="10">10%</option>
                                        <option value="11">11%</option>
                                        <option value="12">12%</option>
                                        <option value="13">13%</option>
                                        <option value="14">14%</option>
                                        <option value="15">15%</option>
                                        <option value="16" selected="">16%</option>
                                        <option value="17">17%</option>
                                        <option value="18">18%</option>
                                        <option value="19">19%</option>
                                        <option value="20">20%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 医疗 start -->
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label">医疗基数: </label>
                                <div class="col-sm-8">
                                    <input id="yiliao_base" name="yiliao_base" class="form-control" type="text" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">个人: </label>
                                <div class="col-sm-8">
                                    <select id="p_yiliao_rate" name="p_yiliao_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="0.1">0.1%</option>
                                        <option value="0.2">0.2%</option>
                                        <option value="0.45">0.45%</option>
                                        <option value="0.6">0.6%</option>
                                        <option value="1">1%</option>
                                        <option value="2" selected="">2%</option>
                                        <option value="3">3%</option>
                                        <option value="4">4%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="6.2">6.2%</option>
                                        <option value="7">7%</option>
                                        <option value="8">8%</option>
                                        <option value="9">9%</option>
                                        <option value="10">10%</option>
                                        <option value="11">11%</option>
                                        <option value="12">12%</option>
                                        <option value="13">13%</option>
                                        <option value="14">14%</option>
                                        <option value="15">15%</option>
                                        <option value="16">16%</option>
                                        <option value="17">17%</option>
                                        <option value="18">18%</option>
                                        <option value="19">19%</option>
                                        <option value="20">20%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">企业: </label>
                                <div class="col-sm-8">
                                    <select id="c_yiliao_rate" name="c_yiliao_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="0.1">0.1%</option>
                                        <option value="0.2">0.2%</option>
                                        <option value="0.45">0.45%</option>
                                        <option value="0.6">0.6%</option>
                                        <option value="1">1%</option>
                                        <option value="2">2%</option>
                                        <option value="3">3%</option>
                                        <option value="4">4%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="6.2">6.2%</option>
                                        <option value="7">7%</option>
                                        <option value="8">8%</option>
                                        <option value="9">9%</option>
                                        <option value="10" selected="">10%</option>
                                        <option value="11">11%</option>
                                        <option value="12">12%</option>
                                        <option value="13">13%</option>
                                        <option value="14">14%</option>
                                        <option value="15">15%</option>
                                        <option value="16">16%</option>
                                        <option value="17">17%</option>
                                        <option value="18">18%</option>
                                        <option value="19">19%</option>
                                        <option value="20">20%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 医疗 end -->
                <!-- 失业 start -->
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label">失业基数: </label>
                                <div class="col-sm-8">
                                    <input id="shiye_base" name="shiye_base" class="form-control" type="text" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">个人: </label>
                                <div class="col-8">
                                    <select id="p_shiye_rate" name="p_shiye_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="0.2" selected="">0.2%</option>
                                        <option value="0.3">0.3%</option>
                                        <option value="0.4">0.4%</option>
                                        <option value="0.5">0.5%</option>
                                        <option value="0.6">0.6%</option>
                                        <option value="0.7">0.7%</option>
                                        <option value="0.8">0.8%</option>
                                        <option value="0.9">0.9%</option>
                                        <option value="1">1%</option>
                                        <option value="1.1">1.1%</option>
                                        <option value="1.2">1.2%</option>
                                        <option value="1.3">1.3%</option>
                                        <option value="1.4">1.4%</option>
                                        <option value="1.5">1.5%</option>
                                        <option value="1.6">1.6%</option>
                                        <option value="1.7">1.7%</option>
                                        <option value="1.8">1.8%</option>
                                        <option value="1.9">1.9%</option>
                                        <option value="2">2%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">企业: </label>
                                <div class="col-sm-8">
                                    <select id="c_shiye_rate" name="c_shiye_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="0.2">0.2%</option>
                                        <option value="0.3">0.3%</option>
                                        <option value="0.4">0.4%</option>
                                        <option value="0.5">0.5%</option>
                                        <option value="0.6">0.6%</option>
                                        <option value="0.7">0.7%</option>
                                        <option value="0.8" selected="">0.8%</option>
                                        <option value="0.9">0.9%</option>
                                        <option value="1">1%</option>
                                        <option value="1.1">1.1%</option>
                                        <option value="1.2">1.2%</option>
                                        <option value="1.3">1.3%</option>
                                        <option value="1.4">1.4%</option>
                                        <option value="1.5">1.5%</option>
                                        <option value="1.6">1.6%</option>
                                        <option value="1.7">1.7%</option>
                                        <option value="1.8">1.8%</option>
                                        <option value="1.9">1.9%</option>
                                        <option value="2">2%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 失业 end -->
                <!-- 工伤 start -->
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label">工伤基数: </label>
                                <div class="col-sm-8">
                                    <input id="gongshang_base" name="gongshang_base" class="form-control" type="text" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">个人: </label>
                                <div class="col-sm-8">
                                    <select id="p_gongshang_rate" name="p_gongshang_rate" disabled="disabled" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">企业: </label>
                                <div class="col-sm-8">
                                    <select id="c_gongshang_rate" name="c_gongshang_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="0.2" selected="">0.2%</option>
                                        <option value="0.5">0.5%</option>
                                        <option value="0.55">0.55%</option>
                                        <option value="0.6">0.6%</option>
                                        <option value="0.65">0.65%</option>
                                        <option value="0.7">0.7%</option>
                                        <option value="0.75">0.75%</option>
                                        <option value="0.8">0.8%</option>
                                        <option value="0.85">0.85%</option>
                                        <option value="0.9">0.9%</option>
                                        <option value="1">1%</option>
                                        <option value="1.5">1.5%</option>
                                        <option value="2">2%</option>
                                        <option value="2.5">2.5%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 工伤 end -->
                <!-- 生育 start -->
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label">生育基数: </label>
                                <div class="col-sm-8">
                                    <input id="shengyu_base" name="shengyu_base" class="form-control" type="text" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">个人: </label>
                                <div class="col-sm-8">
                                    <select id="p_shengyu_rate" name="p_shengyu_rate" disabled="disabled" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">企业: </label>
                                <div class="col-sm-8">
                                    <select id="c_shengyu_rate" name="c_shengyu_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="0.2">0.2%</option>
                                        <option value="0.3">0.3%</option>
                                        <option value="0.4">0.4%</option>
                                        <option value="0.5">0.5%</option>
                                        <option value="0.6">0.6%</option>
                                        <option value="0.7">0.7%</option>
                                        <option value="0.8" selected="">0.8%</option>
                                        <option value="0.9">0.9%</option>
                                        <option value="1">1%</option>
                                        <option value="1.1">1.1%</option>
                                        <option value="1.2">1.2%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 生育 end -->
                <!-- 公积金 start -->
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label">公积金基数: </label>
                                <div class="col-sm-8">
                                    <input id="gongjijin_base" name="gongjijin_base" class="form-control" type="text" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">个人: </label>
                                <div class="col-sm-8">
                                    <select id="p_gongjijin_rate" name="p_gongjijin_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="7">7%</option>
                                        <option value="8">8%</option>
                                        <option value="9">9%</option>
                                        <option value="10">10%</option>
                                        <option value="11">11%</option>
                                        <option value="12" selected="">12%</option>
                                        <option value="13">13%</option>
                                        <option value="14">14%</option>
                                        <option value="15">15%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-4 control-label config-label config-label">企业: </label>
                                <div class="col-sm-8">
                                    <select id="c_gongjijin_rate" name="c_gongjijin_rate" class="form-control config-select" style="line-height:18px">
                                        <option value="0">0%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="7">7%</option>
                                        <option value="8">8%</option>
                                        <option value="9">9%</option>
                                        <option value="10">10%</option>
                                        <option value="11">11%</option>
                                        <option value="12" selected="">12%</option>
                                        <option value="13">13%</option>
                                        <option value="14">14%</option>
                                        <option value="15">15%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 公积金 end -->

                <!-- 补充公积金 start -->
                <div class="row">
                    <div class="col-6">
                        <div class="form-horizontal">
                            <div class="form-group row">
                                <label class="col-sm-5 control-label config-label config-label">
                                    <input type="checkbox" id="is_jin_extra" name="is_jin_extra" value="0">
                                    汇缴补充住房公积金: </label>
                                <div class="col-sm-7">
                                    <select class="form-control config-select" style="line-height:18px" id="jin_extra" name="jin_extra" disabled="disabled">
                                        <option value="1">1%</option>
                                        <option value="2">2%</option>
                                        <option value="3">3%</option>
                                        <option value="4">4%</option>
                                        <option value="5">5%</option>
                                        <option value="6">6%</option>
                                        <option value="7">7%</option>
                                        <option value="8" selected="selected">8%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                    </div>
                </div>
                <!-- 补充公积金 end -->
            </div>
        </div>

        <hr class="my-4">

        <div class="row justify-content-md-center">
            <div class="input-group mb-3 col-6">
                <div class="input-group-prepend">
                    <span class="input-group-text" style="background-color: cornflowerblue;color: white;"  aria-describedby="inputGroup-sizing-default"> 个税专项附加扣除 </span>
                </div>

                <input type="text" class="form-control  form-control-lg"  name="extra" value="{{.Formdata.Param.Extra}}">
            </div>
        </div>

        <div class="row justify-content-md-center">
            <a href="#" role="button" class="btn btn-outline-light btn">查看个税专项扣除说明</a>
        </div>

        <hr class="my-4">

        <p>扣缴义务人向居民个人支付工资、薪金所得时，应当按照累计预扣法计算预扣税款，并按月办理全员全额扣缴申报</p>
    </div>
</div>
{{if .List}}
    <div id="show" style="width: 100%;hidden:none;">
        <div class="container">
            <p class="lead" style="text-align:center">五险一金汇缴明细</p>
            <table class="table table-bordered">
                <thead class="thead">
                <tr>
                    <th scope="col"> </th>
                    <th scope="col">缴费基数</th>
                    <th scope="col">个人比例</th>
                    <th scope="col">个人缴费金额</th>
                    <th scope="col">企业比例</th>
                    <th scope="col">企业缴费金额</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">养老保险金：</th>
                    <td>{{.Wage.Yanglao.Wage}}</td>
                    <td>{{.Wage.Yanglao.P_rate}}%</td>
                    <td>{{.Wage.Yanglao.P_pay}}</td>
                    <td>{{.Wage.Yanglao.C_rate}}%</td>
                    <td>{{.Wage.Yanglao.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">医疗保险金：</th>
                    <td>{{.Wage.Yiliao.Wage}}</td>
                    <td>{{.Wage.Yiliao.P_rate}}%</td>
                    <td>{{.Wage.Yiliao.P_pay}}</td>
                    <td>{{.Wage.Yiliao.C_rate}}%</td>
                    <td>{{.Wage.Yiliao.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">生育保险金：</th>
                    <td>{{.Wage.Shengyu.Wage}}</td>
                    <td>{{.Wage.Shengyu.P_rate}}%</td>
                    <td>{{.Wage.Shengyu.P_pay}}</td>
                    <td>{{.Wage.Shengyu.C_rate}}%</td>
                    <td>{{.Wage.Shengyu.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">失业保险金：</th>
                    <td>{{.Wage.Shiye.Wage}}</td>
                    <td>{{.Wage.Shiye.P_rate}}%</td>
                    <td>{{.Wage.Shiye.P_pay}}</td>
                    <td>{{.Wage.Shiye.C_rate}}%</td>
                    <td>{{.Wage.Shiye.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">工伤保险金：</th>
                    <td>{{.Wage.Gongshang.Wage}}</td>
                    <td>{{.Wage.Gongshang.P_rate}}%</td>
                    <td>{{.Wage.Gongshang.P_pay}}</td>
                    <td>{{.Wage.Gongshang.C_rate}}%</td>
                    <td>{{.Wage.Gongshang.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">基本住房公积金：</th>
                    <td>{{.Wage.Gongjijin.Wage}}</td>
                    <td>{{.Wage.Gongjijin.P_rate}}%</td>
                    <td>{{.Wage.Gongjijin.P_pay}}</td>
                    <td>{{.Wage.Gongjijin.C_rate}}%</td>
                    <td>{{.Wage.Gongjijin.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">补充住房公积金：</th>
                    <td>{{.Wage.BuGongjijin.Wage}}</td>
                    <td>{{.Wage.BuGongjijin.P_rate}}%</td>
                    <td>{{.Wage.BuGongjijin.P_pay}}</td>
                    <td>{{.Wage.BuGongjijin.C_rate}}%</td>
                    <td>{{.Wage.BuGongjijin.C_pay}}</td>
                </tr>
                <tr>
                    <th scope="row">共计支出：</th>
                    <td>{{.Wage.Yanglao.Wage}}</td>
                    <td></td>
                    <td>{{.P_pay_all}}</td>
                    <td></td>
                    <td>{{.C_pay_all}}</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="container">
            <div class="row">
                <div class="col" id="ge-ren" style="width: 50%;height:400px;"></div>
                <div class="col" id="qi-ye" style="width: 50%;height:400px;"></div>
            </div>
        </div>

        <div class="container">
            <p class="lead" style="text-align:center">每月收入明细<small>(按月计算)</small></p>
            <p style="text-align:center"><small>从2019年开始个税计算采用<code>累计预扣法</code></small></p>
            <table class="table table-bordered ">
                <thead class="thead">
                <tr>
                    <th scope="col">月份</th>
                    <th scope="col">工资</th>
                    <th scope="col">五险一金</th>
                    <th scope="col">税金</th>
                    <th scope="col">本月收入</th>
                </tr>
                </thead>
                <tbody>
                {{range .List}}
                    <tr>
                        <th scope="row">{{.Month}}月</th>
                        <td>{{.Gongzi}}</td>
                        <td>{{.Wxyj}}</td>
                        <td>{{.Shui}}</td>
                        <td>{{.Shuihou}}</td>
                    </tr>
                {{end}}
                </tbody>
            </table>
        </div>

        <div class="container" >
            <div id="qu-xian" style="width: 100%;height: 30rem"></div>
        </div>
    </div>

    <input type="hidden" value="{{.ZheXian}}" id="zheXian">
    <input type="hidden" value="{{.BingTu}}" id="bingTu">
{{end}}
</form>
<div id="city_link" class="container city_link">
    <span>更多城市：</span>
    <span>北京</span>
    <span>上海</span>
    <span>深圳</span>
    <span>广州</span>
    <span>杭州</span>
    <span>重庆</span>
    <span>沈阳</span>
    <span>石家庄</span>
</div>
{{template "wage/footer"}}